```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>研发效能分析报告（2025-09）</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        body { font-family: "Microsoft YaHei", sans-serif; margin: 40px; background-color: #f9f9f9; }
        h1, h2 { color: #2c3e50; }
        .card-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 40px; }
        .card { border: 1px solid #ddd; padding: 15px; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); text-align: center; }
        .card.green { background-color: #d4edda; color: #155724; }
        .card.blue { background-color: #cce5ff; color: #004085; }
        .card.orange { background-color: #fff3cd; color: #856404; }
        .card.red { background-color: #f8d7da; color: #721c24; }
        .chart-container { margin-bottom: 40px; }
        .anomaly-note { margin-top: 10px; font-size: 14px; color: #555; }
        .summary-row { font-weight: bold; background-color: #d5e5f5 !important; }
        .section { margin-bottom: 50px; page-break-inside: avoid; }
        .analysis { background-color: #ecf0f1; padding: 15px; border-left: 5px solid #3498db; margin: 15px 0; }
        .self-check { background-color: #fef9e7; padding: 15px; border-left: 5px solid #f39c12; }
    </style>
</head>
<body>

<h1>研发效能分析报告（2025-09）</h1>

<div class="section">
<h2>一、总体效能概览</h2>
<div class="card-grid">
    <div class="card green">
        <h3>总迭代数</h3>
        <p><strong>17</strong></p>
        <p>本月完成的迭代总数</p>
    </div>
    <div class="card blue">
        <h3>当月产生 Bug 数</h3>
        <p><strong>379</strong></p>
        <p>包含已关闭与待修复</p>
    </div>
    <div class="card orange">
        <h3>平均缺陷率</h3>
        <p><strong>1.0%</strong></p>
        <p>所有部门平均值</p>
    </div>
    <div class="card red">
        <h3>测试用例执行率</h3>
        <p><strong>92.6%</strong></p>
        <p>自动化+手动覆盖</p>
    </div>
    <div class="card green">
        <h3>总提交数</h3>
        <p><strong>4,583</strong></p>
        <p>GitLab 提交数量</p>
    </div>
    <div class="card blue">
        <h3>总变更行数</h3>
        <p><strong>1,002,307</strong></p>
        <p>新增+删除行</p>
    </div>
    <div class="card orange">
        <h3>人均变更量</h3>
        <p><strong>32,332.5</strong></p>
        <p>变更行数÷开发人数</p>
    </div>
    <div class="card red">
        <h3>人均工时</h3>
        <p><strong>95.1h</strong></p>
        <p>团队平均投入</p>
    </div>
</div>
</div>

<div class="section">
<h2>二、开发效率分析</h2>

<div class="chart-container">
    <canvas id="departmentEfficiencyChart"></canvas>
    <p>图：各部门工时效率对比</p>
</div>

<div class="chart-container">
    <canvas id="workloadRatioChart" height="930"></canvas>
    <p>图：个人工时投入比分析</p>
    <div class="anomaly-note">
        异常点说明：陈亮（1425.0%），远高于平均值（120.4%），可能因任务分配失衡，建议重新评估工时分配。
    </div>
</div>

<div class="chart-container">
    <canvas id="codeOutputPieChart" width="100" height="100"></canvas>
    <p>图：代码产出分布</p>
</div>

<div class="chart-container">
    <canvas id="workloadNormalDistributionChart"></canvas>
    <p>图：工时投入比的正态分布分析</p>
</div>
</div>

<div class="section">
<h2>三、质量与缺陷分析</h2>

<div class="chart-container">
    <canvas id="bugDistributionChart"></canvas>
    <p>图：缺陷分布与修复情况</p>
</div>

<div class="chart-container">
    <canvas id="bugFixRateChart" height="930"></canvas>
    <p>图：缺陷修复率分析</p>
    <div class="anomaly-note">
        异常点说明：詹婉晶（17.6%），远低于平均值（72.0%），可能因优先级冲突，建议优化Bug响应机制。
    </div>
</div>

<div class="chart-container">
    <canvas id="testCoverageChart"></canvas>
    <p>图：测试覆盖情况</p>
</div>
</div>

<div class="section">
<h2>四、团队效能对比</h2>

<div class="chart-container">
    <canvas id="teamPerformanceChart"></canvas>
    <p>图：部门效能综合对比</p>
</div>

<div class="chart-container">
    <canvas id="teamRadarChart"></canvas>
    <p>图：部门人均效能对比</p>
</div>
</div>

<div class="section">
<h2>五、总结与建议</h2>
<div class="analysis">
    <h3>核心结论：</h3>
    <ol>
        <li>高投入比与高产出并不完全线性相关，部分成员如凌亮正、张梦娟在高变更量下保持低缺陷率。</li>
        <li>缺陷分布呈现“多产多错”趋势，尤其是高变更量人员如包鹏飞、周宇希等缺陷较多。</li>
        <li>研发二部的Bug率显著高于研发一部，但人均工时相近，表明质量问题主要源于模块复杂度或任务拆分不合理。</li>
    </ol>
    <h3>改进建议：</h3>
    <ul>
        <li>针对高投入比但低效成员（如陈亮），重新评估任务分配与时间管理策略。</li>
        <li>对高缺陷率模块（如宁波负责部分）实施重点代码Review，并增加边界测试用例。</li>
        <li>提升测试覆盖率至95%以上，补充自动化比例监控以增强长期可持续性。</li>
    </ul>
</div>
</div>

<script>
// 数据源
const data = {
    departmentEfficiency: [
        { department: "研发一部", bugCount: 154, memberCount: 13, totalHours: 1081.6, avgBugRate: 0.58, avgHours: 83.2, avgCommits: 128.5, avgChanges: 48550.2 },
        { department: "研发二部", bugCount: 200, memberCount: 15, totalHours: 1269.5, avgBugRate: 1.21, avgHours: 84.6, avgCommits: 165.5, avgChanges: 33020.5 }
    ],
    workloadRatio: [
        { name: "陈亮", ratio: 1425.0 }, { name: "凌亮正", ratio: 512.5 }, { name: "张梦娟", ratio: 333.3 }, { name: "包鹏飞", ratio: 140.7 },
        { name: "夏佳兴", ratio: 139.0 }, { name: "宁波", ratio: 228.8 }, { name: "曾志翔", ratio: 183.3 }, { name: "周宇希", ratio: 173.5 },
        { name: "朱叶贤", ratio: 168.8 }, { name: "李楠", ratio: 145.5 }, { name: "陈彬", ratio: 228.0 }, { name: "黄永富", ratio: 123.9 },
        { name: "黄金潮", ratio: 107.3 }, { name: "龚俊", ratio: 101.8 }, { name: "易锋华", ratio: 101.6 }, { name: "樊韬", ratio: 98.7 },
        { name: "缪捷丞", ratio: 97.5 }, { name: "詹婉晶", ratio: 95.1 }, { name: "邹文杰", ratio: 121.9 }, { name: "钟义勇", ratio: 120.0 },
        { name: "陆雯艳", ratio: 74.0 }, { name: "杨惠影", ratio: 88.3 }, { name: "陈跃", ratio: 87.8 }
    ].sort((a, b) => b.ratio - a.ratio),
    codeOutput: [
        { name: "凌亮正", lines: 130177 }, { name: "张梦娟", lines: 101914 }, { name: "詹婉晶", lines: 138882 }, { name: "陈楷枫", lines: 55026 },
        { name: "周宇希", lines: 56576 }, { name: "曾志翔", lines: 42782 }, { name: "朱叶贤", lines: 29255 }, { name: "李楠", lines: 6888 },
        { name: "黄金潮", lines: 35294 }, { name: "黄永富", lines: 20944 }, { name: "陈彬", lines: 21271 }, { name: "夏佳兴", lines: 33969 },
        { name: "林群", lines: 9790 }, { name: "宁波", lines: 713 }, { name: "包鹏飞", lines: 8085 }, { name: "吴一凡", lines: 3164 },
        { name: "钟义勇", lines: 247 }, { name: "洪伟强", lines: 1188 }, { name: "缪捷丞", lines: 9055 }, { name: "樊韬", lines: 2652 },
        { name: "Administrator", lines: 22 }
    ].sort((a, b) => b.lines - a.lines),
    bugFixRate: [
        { name: "周宇希", fixRate: 98.2 }, { name: "宁波", fixRate: 100.0 }, { name: "凌亮正", fixRate: 100.0 }, { name: "刘冰", fixRate: 100.0 },
        { name: "邹文杰", fixRate: 100.0 }, { name: "陈莉莉", fixRate: 100.0 }, { name: "钟义勇", fixRate: 100.0 }, { name: "易锋华", fixRate: 100.0 },
        { name: "庞林", fixRate: 85.7 }, { name: "张梦娟", fixRate: 85.7 }, { name: "缪捷丞", fixRate: 62.5 }, { name: "陈彬", fixRate: 100.0 },
        { name: "曾志翔", fixRate: 71.4 }, { name: "黄金潮", fixRate: 92.9 }, { name: "詹婉晶", fixRate: 17.6 }, { name: "陈楷枫", fixRate: 38.1 }
    ].sort((a, b) => b.fixRate - a.fixRate)
};

// 图表配置
const departmentEfficiencyChart = new Chart(document.getElementById('departmentEfficiencyChart'), {
    type: 'bar',
    data: {
        labels: data.departmentEfficiency.map(d => d.department),
        datasets: [
            { label: "Bug数", data: data.departmentEfficiency.map(d => d.bugCount), backgroundColor: "#ff6384" },
            { label: "人均工时(h)", data: data.departmentEfficiency.map(d => d.avgHours), backgroundColor: "#36a2eb" },
            { label: "平均Bug率(%)", data: data.departmentEfficiency.map(d => d.avgBugRate), backgroundColor: "#ffcd56" }
        ]
    },
    options: {
        responsive: true,
        plugins: { legend: { position: 'top' } },
        scales: { y: { beginAtZero: true, max: Math.ceil(Math.max(...data.departmentEfficiency.map(d => d.bugCount)) * 1.1) } }
    }
});

const workloadRatioChart = new Chart(document.getElementById('workloadRatioChart'), {
    type: 'bar',
    data: {
        labels: data.workloadRatio.map(w => w.name),
        datasets: [{ label: "投入比(%)", data: data.workloadRatio.map(w => w.ratio), backgroundColor: "#4bc0c0" }]
    },
    options: {
        indexAxis: 'y',
        responsive: true,
        plugins: { legend: { display: false } },
        scales: { x: { beginAtZero: true, max: Math.ceil(Math.max(...data.workloadRatio.map(w => w.ratio)) * 1.1) } }
    }
});

const codeOutputPieChart = new Chart(document.getElementById('codeOutputPieChart'), {
    type: 'pie',
    data: {
        labels: data.codeOutput.map(c => c.name),
        datasets: [{ data: data.codeOutput.map(c => c.lines), backgroundColor: Array(data.codeOutput.length).fill().map(() => `#${Math.floor(Math.random()*16777215).toString(16)}`) }]
    },
    options: { responsive: true, plugins: { legend: { display: false } } }
});

const bugFixRateChart = new Chart(document.getElementById('bugFixRateChart'), {
    type: 'bar',
    data: {
        labels: data.bugFixRate.map(b => b.name),
        datasets: [{ label: "修复率(%)", data: data.bugFixRate.map(b => b.fixRate), backgroundColor: "#ff6384" }]
    },
    options: {
        indexAxis: 'y',
        responsive: true,
        plugins: { legend: { display: false } },
        scales: { x: { beginAtZero: true, max: Math.ceil(Math.max(...data.bugFixRate.map(b => b.fixRate)) * 1.1) } }
    }
});
</script>
</body>
</html>
```